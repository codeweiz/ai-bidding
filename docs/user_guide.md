# 🤖 AI投标系统使用指南

## 🎯 系统概述

AI投标系统是一个基于人工智能的投标方案自动生成系统，专门针对IPTV广电领域，能够根据招标文档自动生成专业的技术方案。

### 核心功能
- ✅ **智能解析** - 自动解析招标文档内容
- ✅ **专业生成** - 使用IPTV领域专业知识生成技术方案
- ✅ **层次化结构** - 支持多级标题的层次化内容组织
- ✅ **模板样式** - 自动应用预定义的文档样式
- ✅ **差异化处理** - 确保生成内容的唯一性
- ✅ **实时监控** - 提供生成进度的实时反馈

## 🚀 快速开始

### 1. 启动系统

```bash
# 方法1: 使用Makefile（推荐）
make run

# 方法2: 分别启动前后端
make run-backend    # 启动后端服务
make run-frontend   # 启动前端服务
```

### 2. 访问界面

- **前端界面**: http://localhost:7860
- **后端API**: http://localhost:8000
- **API文档**: http://localhost:8000/docs

## 📋 使用步骤

### 第一步：创建项目

1. 在前端界面输入**项目名称**（如：某某IPTV系统建设项目）
2. 输入**项目描述**（可选）
3. 选择是否**启用差异化处理**（推荐开启）
4. 点击**"创建项目"**按钮

### 第二步：上传文档

#### 上传招标文档（必需）
1. 点击**"选择招标文档"**
2. 选择招标文件（支持.docx、.pdf格式）
3. 点击**"上传招标文档"**
4. 等待上传完成提示

#### 上传模板文档（可选）
1. 点击**"选择模板文档"**
2. 选择自定义模板（.docx格式）
3. 点击**"上传模板文档"**
4. 如不上传，系统将使用默认模板

### 第三步：生成投标书

1. 确保项目已创建且招标文档已上传
2. 点击**"🎯 开始生成投标书"**按钮
3. 观察**进度条**和**状态信息**
4. 等待生成完成（通常需要5-15分钟）

### 第四步：下载结果

1. 生成完成后，**"📥 下载投标书"**按钮会出现
2. 点击下载按钮获取生成的投标书
3. 或访问提供的下载链接

## 🎨 模板样式说明

### 预定义样式

系统支持以下预定义样式，会自动应用到生成的文档中：

- **标书1级** - 主标题（如：技术方案）
- **标书2级** - 一级章节（如：1. 系统架构设计）
- **标书3级** - 二级章节（如：1.1 总体架构）
- **标书4级** - 三级章节（如：1.1.1 微服务架构）
- **标书5级** - 四级章节（如：1.1.1.1 服务注册）
- **标书正文** - 正文内容

### 自定义模板

如需使用自定义模板：

1. 准备.docx格式的模板文件
2. 确保模板中包含上述预定义样式
3. 在"上传模板文档"步骤中上传自定义模板
4. 系统会自动使用您的模板样式

### 默认模板

系统提供默认模板：`tests/data/投标文件template.docx`

## ⚙️ 系统配置

### 环境要求

- Python 3.8+
- 8GB+ 内存
- 稳定的网络连接（用于AI模型调用）

### 配置文件

主要配置在 `config.toml` 中：

```toml
[llm]
provider = "deepseek"
model_name = "deepseek-chat"
api_key = "your-api-key-here"
base_url = "https://api.deepseek.com"
```

### 目录结构

```
ai-bidding/
├── uploads/          # 上传的文档存储
├── outputs/          # 生成的投标书存储
├── tests/data/       # 测试数据和默认模板
├── backend/          # 后端服务代码
├── frontend/         # 前端界面代码
└── docs/            # 文档目录
```

## 🔧 故障排除

### 常见问题

#### 1. 前端无法访问
```bash
# 检查前端服务是否启动
curl http://localhost:7860

# 重新启动前端
make run-frontend
```

#### 2. 后端API错误
```bash
# 检查后端健康状态
curl http://localhost:8000/health

# 重新启动后端
make run-backend
```

#### 3. 文档上传失败
- 确保文件格式正确（.docx、.pdf）
- 检查文件大小（建议<50MB）
- 确保文件未损坏

#### 4. 生成任务失败
- 检查API密钥配置
- 确保网络连接正常
- 查看后端日志获取详细错误信息

#### 5. 进度条不更新
- 点击"🔄 刷新状态"按钮
- 检查浏览器网络连接
- 确认任务ID正确

### 日志查看

```bash
# 查看后端日志
tail -f backend.log

# 查看前端日志
tail -f frontend.log
```

## 📊 性能参考

### 生成时间

- **简单项目**（<20页招标文档）：5-8分钟
- **中等项目**（20-50页招标文档）：8-15分钟
- **复杂项目**（>50页招标文档）：15-25分钟

### 系统资源

- **CPU使用率**：20-40%
- **内存使用**：2-4GB
- **网络带宽**：1-5Mbps（主要用于AI API调用）

## 🎯 最佳实践

### 招标文档准备

1. **格式规范** - 使用标准的.docx格式
2. **内容完整** - 确保包含完整的技术需求
3. **结构清晰** - 使用标准的章节标题格式
4. **信息准确** - 避免错别字和格式错误

### 模板设计

1. **样式统一** - 确保所有标书样式定义完整
2. **格式美观** - 设置合适的字体、字号、行距
3. **结构合理** - 预留足够的页边距和段落间距

### 生成优化

1. **网络稳定** - 确保生成过程中网络连接稳定
2. **避免中断** - 生成过程中不要关闭浏览器
3. **及时保存** - 生成完成后及时下载保存

## 📞 技术支持

如遇到问题，请：

1. 查看本使用指南
2. 检查系统日志
3. 访问API文档：http://localhost:8000/docs
4. 运行集成测试：`python test_frontend_backend_integration.py`

## 🔄 版本更新

当前版本：v2.0.0

主要特性：
- ✅ 层次化LangGraph工作流
- ✅ 模板样式自动应用
- ✅ 实时进度监控
- ✅ IPTV专业化内容生成
- ✅ 差异化处理机制

---

**🎉 祝您使用愉快！AI投标系统助您高效生成专业投标方案！**
